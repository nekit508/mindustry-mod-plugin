apply plugin: "groovy"
apply plugin: "java"
apply plugin: "maven-publish"
apply plugin: "java-gradle-plugin"

project.sourceSets.main.groovy.srcDirs = [project.layout.projectDirectory.dir("../buildSrc/src")]

gradlePlugin {
    plugins {
        NModPlugin {
            id = "${project.parent.group}.${rootProject.name}"
            implementationClass = "nekit508.NMPlugin"

            println "plugin id: $id version: $version"
        }
    }
}

dependencies {
    compileOnly gradleApi()
    implementation "com.github.nekit508:pl-compiler-framework:$plCompilerFrameworkVersion"
}

groovydoc {
    destinationDir = rootProject.file("docs/javadoc")

    source = project.sourceSets.main.allGroovy
}