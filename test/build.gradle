import nekit508.NMPlugin

allprojects.each {project ->
    project.repositories {
        mavenCentral()
        mavenLocal()
        maven { url "https://raw.githubusercontent.com/Zelaux/MindustryRepo/master/repository" }
        maven { url "https://www.jitpack.io" }
    }

    project.apply plugin: "java"

    project.sourceSets.main.java.srcDirs = ["src"]
    project.sourceSets.main.resources.srcDirs = ["res"]
}

apply plugin: NMPlugin

nmp.core project, "core"

core.configure {
    genericInit()

    core.configureTasks {
        nmpGenerateModInfo {
            modMain = "core.Mod"

            modAuthor = "nekit508"
            modDescription = "Test mod."
            modRepo = "https://github.com/nekit508/mindustry-mod-plugin"
        }
    }
}

core.settings {
    jabelVersion.set "1.0.1-1"
    modName.set prop("modName") as String
    modGroup.set prop("modGroup") as String
    modVersion.set prop("modVersion") as String
    mindustryVersion.set prop("mindustryVersion") as String
    generateModInfo.set true
}