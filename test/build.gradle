import nekit508.main.NMPlugin

allprojects.each {project ->
    project.repositories {
        mavenCentral()
        mavenLocal()
        maven { url "https://raw.githubusercontent.com/Zelaux/MindustryRepo/master/repository" }
        maven { url "https://www.jitpack.io" }
    }

    project.apply plugin: "java"

    project.sourceSets.main.java.srcDirs = ["src"]
    project.sourceSets.main.resources.srcDirs = ["res"]
}

apply plugin: NMPlugin

nmp {
    settings.configure {
        modName.set prop("modName")
        modGroup.set prop("modGroup")
        modVersion.set prop("modVersion")
        mindustryVersion.set prop("mindustryVersion")
        generateModInfo.set true
    }

    genericInit()
    setupProjectAsAnnoProject project("annotations")
}

tasks.nmpGenerateModInfo {
    modMain = "core.Mod"

    modAuthor = "nekit508"
    modDescription = "Test mod."
    modRepo = "https://github.com/nekit508/mindustry-mod-plugin"
}