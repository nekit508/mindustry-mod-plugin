import nekit508.main.NMPlugin

allprojects.each {project ->
    project.repositories {
        mavenCentral()
        mavenLocal()
        maven { url "https://raw.githubusercontent.com/Zelaux/MindustryRepo/master/repository" }
        maven { url "https://www.jitpack.io" }
    }

    project.apply plugin: "java"

    project.sourceSets.main.java.srcDirs = ["src"]
    project.sourceSets.main.resources.srcDirs = ["res"]
}

apply plugin: NMPlugin

nmp {
    modName = prop("modName")
    modGroup = prop("modGroup")
    modVersion = prop("modVersion")
    mindustryVersion = prop("mindustryVersion")
    generateModInfo = true

    genericInit()
    setupProjectAsAnnoProject project("annotations")
}

tasks.nmpGenerateModInfo {
    modMain = "core.Mod"

    modAuthor = "nekit508"
    modDescription = "Test mod."
    modRepo = "https://github.com/nekit508/mindustry-mod-plugin"
}